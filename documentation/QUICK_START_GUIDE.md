# üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢ - AGAPE WORSHIP

## üìã –ü–ï–†–í–´–ï –®–ê–ì–ò (5 –º–∏–Ω—É—Ç)

### 1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
```
–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:
1. AI_AGENT_CRITICAL_GUIDE.md - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. AI_AGENT_GUIDE.md - –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
3. –≠—Ç–æ—Ç —Ñ–∞–π–ª - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
```

### 2. –ü–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- **–ì–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**: Legacy (ui.js, script.js) + –ú–æ–¥—É–ª–∏ (/src/modules/)
- **Firebase v8** —á–µ—Ä–µ–∑ CDN + –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è v9 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- **–ù–ï –¢–†–û–ì–ê–¢–¨**: –∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã (ui.js, script.js, sw.js)
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: —Ñ–∞–π–ª—ã < 300 —Å—Ç—Ä–æ–∫ –¥–ª—è Cursor

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
```bash
# –ü—Ä–æ–µ–∫—Ç - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∞–π—Ç
python3 -m http.server 8000
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:8000

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏:
# ‚úÖ Firebase –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
# ‚úÖ Logger –∞–∫—Ç–∏–≤–µ–Ω (–≤ dev —Ä–µ–∂–∏–º–µ)
```

## üîß –ß–ê–°–¢–´–ï –ó–ê–î–ê–ß–ò

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
```javascript
// –ü–†–ê–í–ò–õ–¨–ù–û - –≤ –º–æ–¥—É–ª—å–Ω–æ–π —á–∞—Å—Ç–∏
// –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –≤ /src/modules/–≤–∞—à-–º–æ–¥—É–ª—å/
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger –≤–º–µ—Å—Ç–æ console.log
import logger from '../../utils/logger.js';

// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - –≤ legacy –∫–æ–¥–µ
// –ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –≤ ui.js –∏–ª–∏ script.js
```

### –†–∞–±–æ—Ç–∞ —Å Firebase
```javascript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (v8)
const snapshot = await docRef.get();
if (snapshot.exists) { // –ù–ï exists()!
    const data = snapshot.data();
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (v9)
if (snapshot.exists()) // –û–®–ò–ë–ö–ê!
```

### –û–±–Ω–æ–≤–∏—Ç—å UI
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏ –≤ styles.css –∏ /styles/
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–æ–≤
3. –û–±–Ω–æ–≤–∏—Ç—å Service Worker –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –ù–ï –∑–∞–±—ã—Ç—å –ø—Ä–æ data-song-loaded –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç—å—é

### –†–∞–±–æ—Ç–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Å—Ç—è
import { isUserGuest } from '/src/modules/auth/authCheck.js';
if (isUserGuest()) {
    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
import { hasLimitedAccess } from '/src/modules/auth/authCheck.js';
if (hasLimitedAccess()) {
    // pending –∏–ª–∏ guest
}
```

## üêõ –†–ï–®–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### "Cannot find module"
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å –∏–º–ø–æ—Ä—Ç–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ ../

### "doc.exists is not a function"  
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .exists –≤–º–µ—Å—Ç–æ .exists()
- –≠—Ç–æ Firebase v8!

### "404 –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
- –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é Service Worker –≤ sw.js
- –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

### UI –º–∏–≥–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç data-song-loaded –Ω–∞ body
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç–∏–ª–∏ –≤ <head>

## üìÅ –ì–î–ï –ß–¢–û –ò–°–ö–ê–¢–¨

```
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üí /src/modules/auth/
–§–∏–ª–∏–∞–ª—ã ‚Üí /src/modules/branches/
–ê–¥–º–∏–Ω–∫–∞ ‚Üí /src/modules/admin/
–ü–µ—Å–Ω–∏ ‚Üí /src/modules/songs/ (–æ–≤–µ—Ä–ª–µ–π)
–°–µ—Ç–ª–∏—Å—Ç—ã ‚Üí /src/api/ –∏ ui.js
–°—Ç–∏–ª–∏ ‚Üí styles.css –∏ /styles/
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí /src/utils/logger.js
```

## üö¶ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –†–ê–ë–û–¢–û–ô

- [ ] –ü—Ä–æ—á–∏—Ç–∞–ª AI_AGENT_CRITICAL_GUIDE.md
- [ ] –ü–æ–Ω—è–ª —Ä–∞–∑–Ω–∏—Ü—É Legacy vs –ú–æ–¥—É–ª–∏
- [ ] –ó–Ω–∞—é —á—Ç–æ –ù–ï —Ç—Ä–æ–≥–∞—Ç—å (ui.js, script.js)
- [ ] –ü–æ–º–Ω—é –ø—Ä–æ Firebase v8
- [ ] –ó–Ω–∞—é –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- [ ] –ü–æ–º–Ω—é –ø—Ä–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ 300 —Å—Ç—Ä–æ–∫ –Ω–∞ —Ñ–∞–π–ª

## üí° –ì–õ–ê–í–ù–´–ï –ü–†–ê–í–ò–õ–ê

1. **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–ù–ï –º–µ–Ω—è—Ç—å Firebase –≤–µ—Ä—Å–∏—é** - —Ç–æ–ª—å–∫–æ v8
3. **–ù–ï –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã**
4. **–û–±–Ω–æ–≤–ª—è—Ç—å Service Worker** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger.js** –≤–º–µ—Å—Ç–æ console.log
6. **–§–∞–π–ª—ã < 300 —Å—Ç—Ä–æ–∫** - —Ä–∞–∑–¥–µ–ª—è—Ç—å –±–æ–ª—å—à–∏–µ –º–æ–¥—É–ª–∏
7. **–°–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø—Ä–∏ —Å–æ–º–Ω–µ–Ω–∏—è—Ö**

## üÜï –ù–û–í–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### –û–≤–µ—Ä–ª–µ–π –≤—ã–±–æ—Ä–∞ –ø–µ—Å–µ–Ω
- –ö–Ω–æ–ø–∫–∞ "–í—Å–µ –ø–µ—Å–Ω–∏" ‚Üí –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
- –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ BPM

### –ì–æ—Å—Ç–µ–≤–æ–π –≤—Ö–æ–¥
- –ê–Ω–æ–Ω–∏–º–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –ë–µ–∑ –ø—Ä–æ—Ñ–∏–ª—è –≤ Firestore

### Apple –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- Sign in with Apple
- –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---
**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥**: –ù–∞—á–Ω–∏ —Å –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏ –≤ /src/modules/
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ê–≤–≥—É—Å—Ç 2025