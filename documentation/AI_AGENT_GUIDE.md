# üìö –î–ï–¢–ê–õ–¨–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û –î–õ–Ø AI –ê–ì–ï–ù–¢–û–í - AGAPE WORSHIP

## üéØ –û –ü–†–û–ï–ö–¢–ï
**Agape Worship** - –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Å–Ω—è–º–∏ –ø—Ä–æ—Å–ª–∞–≤–ª–µ–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–∏–ª–∏–∞–ª–æ–≤, —Ä–æ–ª–µ–π –∏ –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º–∞.

- **URL**: https://agapeworship.asia/
- **GitHub**: https://github.com/exserega/worshiptest
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ì–∏–±—Ä–∏–¥–Ω–∞—è (Legacy + –ú–æ–¥—É–ª—å–Ω–∞—è)
- **Firebase**: v8.10.0 (CDN)
- **UI Framework**: Vanilla JS + CSS
- **–®—Ä–∏—Ñ—Ç**: Montserrat –≤–µ–∑–¥–µ, –ö–†–û–ú–ï —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–µ–Ω (–º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π)
- **PWA**: Service Worker v348
- **–¢–µ–º—ã**: —Ç–µ–º–Ω–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —É–ª—É—á—à–µ–Ω–Ω–∞—è —Å–≤–µ—Ç–ª–∞—è

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –ö–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã (–ö–†–ò–¢–ò–ß–ù–û - –ù–ï –ü–ï–†–ï–ú–ï–©–ê–¢–¨!)
```
/ (–∫–æ—Ä–µ–Ω—å)
‚îú‚îÄ‚îÄ index.html          # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ script.js           # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä (~900 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ ui.js               # UI —Ñ—É–Ω–∫—Ü–∏–∏ (~1500 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ firebase-init.js    # Firebase v8 –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ styles.css          # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ (5000+ —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ sw.js               # Service Worker –¥–ª—è PWA (v146)
‚îú‚îÄ‚îÄ manifest.json       # PWA –º–∞–Ω–∏—Ñ–µ—Å—Ç
‚îî‚îÄ‚îÄ CNAME               # GitHub Pages –¥–æ–º–µ–Ω
```

### –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
/src/
‚îú‚îÄ‚îÄ modules/           # –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
‚îÇ   ‚îú‚îÄ‚îÄ auth/         # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ä–æ–ª–∏, –≥–æ—Å—Ç–µ–≤–æ–π –≤—Ö–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ branches/     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–ª–∏–∞–ª–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ admin/        # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ settings/     # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ songs/        # –û–≤–µ—Ä–ª–µ–∏ –ø–µ—Å–µ–Ω –∏ —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–∞
‚îÇ       ‚îú‚îÄ‚îÄ songsOverlay.js      # –û–≤–µ—Ä–ª–µ–π "–í—Å–µ –ø–µ—Å–Ω–∏"
‚îÇ       ‚îî‚îÄ‚îÄ repertoireOverlay.js # –û–≤–µ—Ä–ª–µ–π "–†–µ–ø–µ—Ä—Ç—É–∞—Ä"
‚îú‚îÄ‚îÄ api/              # API —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ utils/            
‚îÇ   ‚îú‚îÄ‚îÄ firebase-v8-adapter.js  # –ê–¥–∞–ø—Ç–µ—Ä v9‚Üív8 (–ö–†–ò–¢–ò–ß–ù–û!)
‚îÇ   ‚îî‚îÄ‚îÄ logger.js              # –£—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ main/             # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```

### –î—Ä—É–≥–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
```
/public/              # HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ admin.html       # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ login.html       # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îî‚îÄ‚îÄ settings.html    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏

/css/                # –°—Ç–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
/assets/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∑–≤—É–∫–∏
/js/                 # –ü–µ—Ä–µ—ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏
/styles/             # –ú–æ–¥—É–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îú‚îÄ‚îÄ overlays.css     # –°—Ç–∏–ª–∏ –æ–≤–µ—Ä–ª–µ–µ–≤
‚îú‚îÄ‚îÄ controls.css     # –°—Ç–∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ buttons.css      # –°—Ç–∏–ª–∏ –∫–Ω–æ–ø–æ–∫
‚îú‚îÄ‚îÄ forms.css        # –°—Ç–∏–ª–∏ —Ñ–æ—Ä–º
‚îú‚îÄ‚îÄ modals.css       # –°—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
‚îú‚îÄ‚îÄ panels.css       # –°—Ç–∏–ª–∏ –ø–∞–Ω–µ–ª–µ–π
‚îú‚îÄ‚îÄ responsive.css   # –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ variables.css    # CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

## üî• FIREBASE –ê–î–ê–ü–¢–ï–†

**–ö–†–ò–¢–ò–ß–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è v9-–ø–æ–¥–æ–±–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ —Å v8 API:

```javascript
// –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –∞–¥–∞–ø—Ç–µ—Ä
import { db, collection, addDoc } from 'src/utils/firebase-v8-adapter.js';

// v8 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
if (snapshot.exists) { // –ù–ï exists()!
    const data = snapshot.data();
}

// –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–º–ø–æ—Ä—Ç logger
import { logger } from '../logger.js'; // –ü—É—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–∞–π–ª–∞
logger.log('Message'); // –ù–ï console.log!
```

## üîê –°–ò–°–¢–ï–ú–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò

### –ú–µ—Ç–æ–¥—ã –≤—Ö–æ–¥–∞
- **Email/–ø–∞—Ä–æ–ª—å** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- **Google** - OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- **Apple** - Sign in with Apple
- **–ê–Ω–æ–Ω–∏–º–Ω—ã–π** - –≥–æ—Å—Ç–µ–≤–æ–π –≤—Ö–æ–¥ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ~~**–¢–µ–ª–µ—Ñ–æ–Ω**~~ - –£–î–ê–õ–ï–ù –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å reCAPTCHA

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **admin** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- **user** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **guest** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø (–∞–Ω–æ–Ω–∏–º–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

### –°—Ç–∞—Ç—É—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
- **active** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—É
- **pending** - –æ–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)
- **blocked** - –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
- **guest** - –∞–Ω–æ–Ω–∏–º–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

### –ì–æ—Å—Ç–µ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –í—Ö–æ–¥ —á–µ—Ä–µ–∑ –∞–Ω–æ–Ω–∏–º–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é Firebase
- –ù–ï —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ Firestore
- –•—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∫–∞–∫ —É pending + –Ω–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è
- –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ "–∑–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏"

### –û—Å–Ω–æ–≤–∞—Ç–µ–ª—å
- Email –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `appConfig/founder`
- –ù–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è —Ä–æ–ª—å admin
- –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

## üè¢ –°–ò–°–¢–ï–ú–ê –§–ò–õ–ò–ê–õ–û–í

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- **branchId** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–ª–∏–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **additionalBranchIds[]** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª–∏–∞–ª—ã
- –°–µ–ª–µ–∫—Ç–æ—Ä –≤ –ø–∞–Ω–µ–ª–∏ —Å–µ—Ç–ª–∏—Å—Ç–æ–≤
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–Ω–µ —Å–≤–æ–∏—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤

### –ó–∞—è–≤–∫–∏
- –ù–∞ –≤—Å—Ç—É–ø–ª–µ–Ω–∏–µ –≤ —Ñ–∏–ª–∏–∞–ª (–Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
- –ù–∞ —Å–º–µ–Ω—É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞
- –ù–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- –ì–æ—Å—Ç–µ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ù–ï –º–æ–≥—É—Ç –ø–æ–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
```javascript
import { canEditInCurrentBranch } from '../branches/branchSelector.js';
const canEdit = await canEditInCurrentBranch();
if (!canEdit) {
    alert('–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ. –í—ã –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç–µ –≤ —ç—Ç–æ–º —Ñ–∏–ª–∏–∞–ª–µ');
    return;
}
```

## üéµ –§–£–ù–ö–¶–ò–û–ù–ê–õ –ü–ï–°–ï–ù

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–û–≤–µ—Ä–ª–µ–π –≤—ã–±–æ—Ä–∞ –ø–µ—Å–µ–Ω** - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
- **–†–µ–ø–µ—Ä—Ç—É–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –ª–∏—á–Ω—ã–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- –¢—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫–∫–æ—Ä–¥–æ–≤
- YouTube —Å—Å—ã–ª–∫–∏
- –†–µ–∂–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏
- –ü–æ–∏—Å–∫ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–Ω–∏

### –û–≤–µ—Ä–ª–µ–π –ø–µ—Å–µ–Ω
- –ö–Ω–æ–ø–∫–∞ "–í—Å–µ –ø–µ—Å–Ω–∏" –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
- –§–∏–ª—å—Ç—Ä—ã: –í—Å–µ | –ë—ã—Å—Ç—Ä—ã–µ | –ü–æ–∫–ª–æ–Ω–µ–Ω–∏–µ
- –ü–æ–¥—Ñ–∏–ª—å—Ç—Ä—ã: –í–µ—Ä—Ç–∏–∫–∞–ª—å | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ BPM
- –ö–ª–∏–∫ –ø–æ –ø–µ—Å–Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –µ—ë –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- –ö—Ä–∞—Å–∏–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è/–∑–∞–∫—Ä—ã—Ç–∏—è

### –†–µ–ø–µ—Ä—Ç—É–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ö–Ω–æ–ø–∫–∞ "–†–µ–ø–µ—Ä—Ç—É–∞—Ä" –≤ –º–æ–±–∏–ª—å–Ω–æ–º –º–µ–Ω—é
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ `users/[uid]/repertoire/[songId]`
- –û–¥–Ω–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –ø–µ—Å–Ω—é (preferredKey)
- –§–∏–ª—å—Ç—Ä—ã: –í—Å–µ | –ë—ã—Å—Ç—Ä—ã–µ | –ü–æ–∫–ª–æ–Ω–µ–Ω–∏–µ | –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ö–Ω–æ–ø–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä
- –ö—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–µ—Å–Ω–∏
- –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –¥—Ä—É–≥–æ–π —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ - –∑–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–º–µ–Ω—É

### –°–µ—Ç–ª–∏—Å—Ç—ã
- –ü—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Ñ–∏–ª–∏–∞–ª–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è active)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è pending –∏ guest –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- Drag & drop —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –í—ã–±–æ—Ä –ø–µ—Å–µ–Ω –∏–∑ –æ–≤–µ—Ä–ª–µ—è
- –ö–Ω–æ–ø–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã alert-—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## üé® UI/UX

### –¢–µ–º—ã
- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (#111827)
- –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ (#d4d8de)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
- CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å

### CSS –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```css
/* –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
--primary-color: #22d3ee; /* —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞ */
--primary-color: #339af0; /* —Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */
--bg-secondary: #1f2937;
--text-primary: #e5e7eb;
--text-secondary: #9ca3af;
/* –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ –≤ variables.css */
```

### PWA
- –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- Service Worker –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (v348)
- manifest.json —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- Mobile-first –ø–æ–¥—Ö–æ–¥
- –ë–æ–∫–æ–≤—ã–µ –ø–∞–Ω–µ–ª–∏
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- –û–≤–µ—Ä–ª–µ–∏ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- –ö–Ω–æ–ø–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞

### UI –£–ª—É—á—à–µ–Ω–∏—è
- –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –º–∏–≥–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (data-song-loaded)
- –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- –ö–Ω–æ–ø–∫–∏ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –æ–±—ä–µ–º–∞
- –ï–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã
- –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –¥–ª—è –æ–±–µ–∏—Ö —Ç–µ–º

## ‚ö° –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø

### –£—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
import { logger } from './src/utils/logger.js';
logger.log('–°–æ–æ–±—â–µ–Ω–∏–µ'); // –¢–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ
logger.error('–û—à–∏–±–∫–∞'); // –í–∞–∂–Ω—ã–µ –æ—à–∏–±–∫–∏
```

### Web Workers
- –ü–æ–∏—Å–∫ –ø–µ—Å–µ–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

### Lazy Loading
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- –û–≤–µ—Ä–ª–µ–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- Service Worker –¥–ª—è –æ—Ñ–ª–∞–π–Ω
- localStorage –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞ (v348)
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è network-first

## üõ†Ô∏è –†–ê–ó–†–ê–ë–û–¢–ö–ê

### –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
1. **–§–∞–π–ª—ã < 300 —Å—Ç—Ä–æ–∫** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Cursor
2. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - —Ä–∞–∑–¥–µ–ª—è—Ç—å –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger.js** –≤–º–µ—Å—Ç–æ console.log
4. **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö**
6. **–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
1. –°–æ–∑–¥–∞–≤–∞—Ç—å –≤ `/src/modules/`
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ES6 –º–æ–¥—É–ª–∏
3. –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
4. –û–±–Ω–æ–≤–ª—è—Ç—å Service Worker –≤–µ—Ä—Å–∏—é
5. –î–æ–±–∞–≤–ª—è—Ç—å —Å—Ç–∏–ª–∏ –≤ `/styles/`
6. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –¢–∏–ø–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

#### –ó–∞—â–∏—â–µ–Ω–Ω–∞—è –∫–Ω–æ–ø–∫–∞:
```javascript
button.addEventListener('click', async () => {
    if (userStatus === 'pending' || userStatus === 'guest') {
        alert('–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ. –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏');
        return;
    }
    // –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
});
```

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª–∏–∞–ª–∞:
```javascript
const canEdit = await canEditInCurrentBranch();
if (!canEdit) {
    element.style.opacity = '0.5';
    element.style.cursor = 'not-allowed';
    element.classList.add('branch-disabled');
}
```

#### –†–∞–±–æ—Ç–∞ —Å —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–æ–º:
```javascript
// –ü–†–ê–í–ò–õ–¨–ù–û
const repertoireRef = db.collection('users').doc(userId).collection('repertoire');

// –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
const wrongRef = db.collection('users').doc(songId); // –ù–ï–¢!
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
python3 -m http.server 8000

# –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
DevTools ‚Üí Application ‚Üí Clear Storage

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Service Worker
DevTools ‚Üí Application ‚Üí Service Workers
```

### –î–µ–ø–ª–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —á–µ—Ä–µ–∑ GitHub Pages
- –í–µ—Ç–∫–∞ main
- –î–æ–º–µ–Ω —á–µ—Ä–µ–∑ CNAME
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ git push
- –ü—Ä–æ–≤–µ—Ä–∫–∞: https://agapeworship.asia/

## üìù –°–û–ì–õ–ê–®–ï–ù–ò–Ø

### –ö–æ–¥
- ES6+ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
- async/await –¥–ª—è –ø—Ä–æ–º–∏—Å–æ–≤
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- JSDoc –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å logger.js
- –î–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è —á–∏—Å—Ç–æ—Ç—ã

### –°—Ç–∏–ª–∏
- CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ–º
- BEM-–ø–æ–¥–æ–±–Ω–∞—è –Ω–æ—Ç–∞—Ü–∏—è
- Mobile-first –º–µ–¥–∏–∞ –∑–∞–ø—Ä–æ—Å—ã
- –ú–æ–¥—É–ª—å–Ω—ã–µ CSS —Ñ–∞–π–ª—ã –≤ /styles/
- !important —Ç–æ–ª—å–∫–æ –≥–¥–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

### –ö–æ–º–º–∏—Ç—ã
- Conventional Commits
- feat/fix/docs/style/refactor
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
- –î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–æ–≤
- –í–µ—Ä—Å–∏—è SW –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

## üîç –ü–û–õ–ï–ó–ù–´–ï –ü–†–ò–ú–ï–†–´

### –°–æ–∑–¥–∞–Ω–∏–µ –æ–≤–µ—Ä–ª–µ—è:
```javascript
const overlay = document.createElement('div');
overlay.className = 'songs-overlay';
overlay.innerHTML = `
    <div class="songs-overlay-content">
        <div class="overlay-header">
            <h2>–ó–∞–≥–æ–ª–æ–≤–æ–∫</h2>
            <button class="close-btn">√ó</button>
        </div>
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
    </div>
`;
```

### –†–∞–±–æ—Ç–∞ —Å Firebase v8:
```javascript
// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
const doc = await db.collection('users').doc(userId).get();
if (doc.exists) { // –ù–ï exists()!
    const data = doc.data();
}

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
const unsubscribe = db.collection('songs')
    .onSnapshot(snapshot => {
        snapshot.forEach(doc => {
            logger.log(doc.id, doc.data());
        });
    });
```

---
**–°–º. —Ç–∞–∫–∂–µ**: AI_AGENT_CRITICAL_GUIDE.md –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –Ø–Ω–≤–∞—Ä—å 2025
**Service Worker**: v348