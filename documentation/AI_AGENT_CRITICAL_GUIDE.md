# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û –î–õ–Ø AI –ê–ì–ï–ù–¢–û–í - AGAPE WORSHIP

## üéØ –¶–ï–õ–¨ –î–û–ö–£–ú–ï–ù–¢–ê
–î–∞—Ç—å –Ω–æ–≤–æ–º—É AI –∞–≥–µ–Ω—Ç—É **–ü–û–õ–ù–û–ï** –ø–æ–Ω–∏–º–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞ 5 –º–∏–Ω—É—Ç, –∏–∑–±–µ–∂–∞–≤ –≤—Å–µ—Ö –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê (–ö–†–ò–¢–ò–ß–ù–û!)

```
–ì–ò–ë–†–ò–î–ù–ê–Ø –°–ò–°–¢–ï–ú–ê = Legacy –∫–æ–¥ + –ù–æ–≤—ã–µ –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ Legacy (–ù–ï –¢–†–û–ì–ê–¢–¨ –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏!)
‚îÇ   ‚îú‚îÄ‚îÄ script.js (900 —Å—Ç—Ä–æ–∫) - –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ ui.js (1500+ —Å—Ç—Ä–æ–∫) - UI —Ñ—É–Ω–∫—Ü–∏–∏  
‚îÇ   ‚îî‚îÄ‚îÄ firebase-init.js - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase v8
‚îÇ
‚îú‚îÄ‚îÄ –ú–æ–¥—É–ª—å–Ω–∞—è (/src/modules/)
‚îÇ   ‚îú‚îÄ‚îÄ auth/ - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, —Ä–æ–ª–∏, —Å—Ç–∞—Ç—É—Å—ã, –≥–æ—Å—Ç–µ–≤–æ–π –≤—Ö–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ branches/ - —Ñ–∏–ª–∏–∞–ª—ã –∏ –∑–∞—è–≤–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ admin/ - –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ settings/ - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ songs/ - –æ–≤–µ—Ä–ª–µ–π –ø–µ—Å–µ–Ω –∏ —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–∞ (NEW!)
‚îÇ   ‚îî‚îÄ‚îÄ logger.js - —É—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ
‚îî‚îÄ‚îÄ –°—Ç–∏–ª–∏ (/styles/)
    ‚îú‚îÄ‚îÄ buttons.css, forms.css, modals.css - –±–∞–∑–æ–≤—ã–µ
    ‚îú‚îÄ‚îÄ overlays.css - –æ–≤–µ—Ä–ª–µ–∏ –ø–µ—Å–µ–Ω/—Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–∞
    ‚îî‚îÄ‚îÄ responsive.css - –º–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
```

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –§–ê–ô–õ–´ - –ù–ï –ü–ï–†–ï–ú–ï–©–ê–¢–¨!

1. **sw.js** - –î–û–õ–ñ–ï–ù –±—ã—Ç—å –≤ –∫–æ—Ä–Ω–µ (PWA —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ) - —Ç–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è v146
2. **ui.js** - –ù–ï –ø–µ—Ä–µ–º–µ—â–∞—Ç—å (—Å–ª–æ–º–∞–µ—Ç—Å—è –≤–µ—Å—å UI)
3. **script.js** - –ù–ï –ø–µ—Ä–µ–º–µ—â–∞—Ç—å (–≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä)
4. **firebase-init.js** - –ù–ï –º–µ–Ω—è—Ç—å (v8 —á–µ—Ä–µ–∑ CDN)
5. **firebase-v8-adapter.js** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è v9 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
6. **logger.js** - —É—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–π –≤–º–µ—Å—Ç–æ console.log!)

## üî• FIREBASE - –¢–û–õ–¨–ö–û v8!

```javascript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (v8):
const snapshot = await docRef.get();
if (snapshot.exists) { // –ù–ï exists()!
    const data = snapshot.data();
}

// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (v9):
if (snapshot.exists()) // –û–®–ò–ë–ö–ê!

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –∏–º–ø–æ—Ä—Ç logger:
import { logger } from '../../logger.js';
logger.log('–°–æ–æ–±—â–µ–Ω–∏–µ'); // –ù–ï console.log!
```

**–í–ê–ñ–ù–û**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Firebase v8.10.0 —á–µ—Ä–µ–∑ CDN. –ù–ï –ú–ï–ù–Ø–¢–¨ –í–ï–†–°–ò–Æ!

## üë§ –ü–†–ï–î–ü–û–ß–¢–ï–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (–∏–∑ memories)

1. **–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
2. **–î–∞–≤–∞—Ç—å –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** - —á—Ç–æ –¥–µ–ª–∞—Ç—å, –∫–∞–∫, –∑–∞—á–µ–º
3. **–ü–∏—Å–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã** –ø–µ—Ä–µ–¥ –±–æ–ª—å—à–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
4. **–ú–∏–Ω–∏–º—É–º emoji** –≤ —Ç–µ–∫—Å—Ç–µ - –æ—Ç–≤–ª–µ–∫–∞—é—Ç
5. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ—Ç–∫—É main** –¥–ª—è GitHub Pages (–Ω–µ masters)
6. **–í–µ–∂–ª–∏–≤—ã–µ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏** –≤ —Å—Ç–∏–ª–µ –ø–æ–¥—Å–∫–∞–∑–æ–∫
7. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞–ª—ã–µ —Ñ–∞–π–ª—ã** (<300 —Å—Ç—Ä–æ–∫) –¥–ª—è Cursor

## üéØ –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï –ü–†–û–ï–ö–¢–ê

### –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ —Å—Ç–∞—Ç—É—Å–æ–≤:
- **–†–æ–ª–∏**: `admin`, `user`, `guest` 
- **–°—Ç–∞—Ç—É—Å—ã**: `active`, `pending`, `blocked`, `guest`
- **–ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç `pending`
- **–ì–æ—Å—Ç–µ–≤–æ–π –≤—Ö–æ–¥**: –∞–Ω–æ–Ω–∏–º–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–µ–∑ –ø—Ä–æ—Ñ–∏–ª—è –≤ Firestore
- **–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å**: –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è —Ä–æ–ª—å, –∑–∞—â–∏—â–µ–Ω –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

### –ú–µ—Ç–æ–¥—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- ‚úÖ Email/–ø–∞—Ä–æ–ª—å
- ‚úÖ Google
- ‚úÖ Apple
- ‚úÖ –ê–Ω–æ–Ω–∏–º–Ω—ã–π (–≥–æ—Å—Ç–µ–≤–æ–π) –≤—Ö–æ–¥
- ‚ùå –¢–µ–ª–µ—Ñ–æ–Ω (–£–î–ê–õ–ï–ù –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å reCAPTCHA)

### –§–∏–ª–∏–∞–ª—ã (branches):
- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–ª–∏–∞–ª: `branchId`
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ: `additionalBranchIds[]`
- –°–µ–ª–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–æ–≤ –≤ –ø–∞–Ω–µ–ª–∏ —Å–µ—Ç–ª–∏—Å—Ç–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ —Å–º–µ–Ω—É/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
- **–í–ê–ñ–ù–û**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ `canEditInCurrentBranch()`

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è pending –∏ guest:
- ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–ª–∏—Å—Ç–æ–≤
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ç–ª–∏—Å—Ç–æ–≤
- ‚ùå –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Å–µ–Ω
- ‚ùå –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π
- ‚ùå –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ —Ñ–∏–ª–∏–∞–ª—ã (guest)
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–í–ê–ñ–ù–û**: –í—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å alert –ø—Ä–∏ –∫–ª–∏–∫–µ!

### UI/UX –ò–∑–º–µ–Ω–µ–Ω–∏—è:
- **–û–≤–µ—Ä–ª–µ–π –ø–µ—Å–µ–Ω**: –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–±–æ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- **–û–≤–µ—Ä–ª–µ–π —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–∞**: User-specific —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä —Å —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—è–º–∏
- **–§–æ–Ω**: #111827 (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞), #d4d8de (—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞)
- **–®—Ä–∏—Ñ—Ç**: Montserrat –≤–µ–∑–¥–µ, –ö–†–û–ú–ï —Ç–µ–∫—Å—Ç–∞ –ø–µ—Å–µ–Ω (–º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π)
- **PWA**: Service Worker v146
- **–¢–µ–º—ã**: —Ç–µ–º–Ω–∞—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —É–ª—É—á—à–µ–Ω–Ω–∞—è —Å–≤–µ—Ç–ª–∞—è
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: —É—Å–ª–æ–≤–Ω–æ–µ —á–µ—Ä–µ–∑ logger.js
- **CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: var(--primary-color), var(--bg-secondary), etc.

### –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
1. **–û–≤–µ—Ä–ª–µ–π "–í—Å–µ –ø–µ—Å–Ω–∏"** (`/src/modules/songs/songsOverlay.js`)
   - –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã: –æ—Å–Ω–æ–≤–Ω—ã–µ + –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ BPM
   - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

2. **–†–µ–ø–µ—Ä—Ç—É–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (`/src/modules/songs/repertoireOverlay.js`)
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `users/[uid]/repertoire/[songId]`
   - –û–¥–Ω–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –ø–µ—Å–Ω—é (preferredKey)
   - –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—è–º
   - –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–µ—Å–Ω–∏

3. **–ó–∞—â–∏—Ç–∞ –æ—Ç –º–∏–≥–∞–Ω–∏—è UI**
   - –ê—Ç—Ä–∏–±—É—Ç `data-song-loaded` –Ω–∞ body
   - CSS —Å–∫—Ä—ã–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Å–Ω–∏

## üêõ –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### 1. "Cannot find module"
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –ø–æ—Å–ª–µ —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å actual path, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ../

### 2. "doc.exists is not a function"
**–ü—Ä–∏—á–∏–Ω–∞**: v9 —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Å v8 Firebase
**–†–µ—à–µ–Ω–∏–µ**: `.exists` –≤–º–µ—Å—Ç–æ `.exists()`

### 3. "404 –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ"
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ –æ–±–Ω–æ–≤–ª–µ–Ω Service Worker
**–†–µ—à–µ–Ω–∏–µ**: –£–≤–µ–ª–∏—á–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ sw.js –∏ CACHE_NAME

### 4. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤
**–ü—Ä–∏—á–∏–Ω–∞**: –ü–µ—Ä–µ—Ö–æ–¥–Ω—ã–π –ø–µ—Ä–∏–æ–¥ Legacy ‚Üí –ú–æ–¥—É–ª–∏
**–†–µ—à–µ–Ω–∏–µ**: –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å

### 5. UI –º–∏–≥–∞–Ω–∏–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ (–†–ï–®–ï–ù–û!)
**–ü—Ä–∏—á–∏–Ω–∞**: –≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Å–Ω—è–º–∏ –≤–∏–¥–Ω—ã –¥–æ –≤—ã–±–æ—Ä–∞ –ø–µ—Å–Ω–∏
**–†–µ—à–µ–Ω–∏–µ**: CSS —Å data-song-loaded –∞—Ç—Ä–∏–±—É—Ç–æ–º

### 6. –†–µ–ø–µ—Ä—Ç—É–∞—Ä –≤–∏–¥–µ–Ω –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
**–ü—Ä–∏—á–∏–Ω–∞**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ `users/[songId]` –≤–º–µ—Å—Ç–æ `users/[uid]/repertoire/[songId]`
**–†–µ—à–µ–Ω–∏–µ**: –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—é repertoire!

### 7. –ö–Ω–æ–ø–∫–∏ –Ω–µ –≤–∏–¥–Ω—ã –≤ —Ç–µ–º–∞—Ö
**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ü–≤–µ—Ç–∞ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ !important
**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ç—Ä–∞—Å—Ç

### 8. Branch permissions –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
**–ü—Ä–∏—á–∏–Ω–∞**: –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –±–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å alert –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

### 9. –ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–≤–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π
**–ü—Ä–∏—á–∏–Ω–∞**: Race condition –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–∏–ª–∏–∞–ª–∞
**–†–µ—à–µ–Ω–∏–µ**: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ branchSelector.js

## ‚ùå –ß–ï–ì–û –ù–ï –î–ï–õ–ê–¢–¨

1. **–ù–ï –º–µ–Ω—è—Ç—å –≤–µ—Ä—Å–∏—é Firebase** (—Å–ª–æ–º–∞–µ—Ç—Å—è –≤—Å—ë)
2. **–ù–ï –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –∫–æ—Ä–Ω–µ–≤—ã–µ —Ñ–∞–π–ª—ã** (ui.js, script.js)
3. **–ù–ï —É–¥–∞–ª—è—Ç—å HTML-—Ä–µ–¥–∏—Ä–µ–∫—Ç—ã** –≤ –∫–æ—Ä–Ω–µ
4. **–ù–ï —Ç—Ä–æ–≥–∞—Ç—å legacy –∫–æ–¥** –±–µ–∑ –∫—Ä–∞–π–Ω–µ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
5. **–ù–ï —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ—Ç–∫—É masters** (—Ç–æ–ª—å–∫–æ main)
6. **–ù–ï –º–µ–Ω—è—Ç—å –º–æ–Ω–æ—à–∏—Ä–∏–Ω–Ω—ã–π —à—Ä–∏—Ñ—Ç** –¥–ª—è –ø–µ—Å–µ–Ω
7. **–ù–ï –¥–µ–ª–∞—Ç—å —Ñ–∞–π–ª—ã –±–æ–ª—å—à–µ 300 —Å—Ç—Ä–æ–∫** (Cursor limitation)
8. **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å console.log** –Ω–∞–ø—Ä—è–º—É—é (—Ç–æ–ª—å–∫–æ logger.log)
9. **–ù–ï –¥–æ–±–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ—Ä–µ–Ω—å users** (–∏—Å–ø–æ–ª—å–∑—É–π –ø–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏–∏)

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö:
1. **–í–°–ï–ì–î–ê** –æ–±–Ω–æ–≤–ª—è–π Service Worker –≤–µ—Ä—Å–∏—é
2. –ü—Ä–æ–≤–µ—Ä—è–π –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ logger.js)
3. –ò—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ tool calls –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
4. –ò—Å–ø–æ–ª—å–∑—É–π logger.js –≤–º–µ—Å—Ç–æ console.log
5. **–ù–ï –∫–æ–º–º–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** - —Å–ø—Ä–∞—à–∏–≤–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –¢–µ—Å—Ç–∏—Ä—É–π –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö (—Ç–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è)

### –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –°–æ–∑–¥–∞–≤–∞–π –≤ `/src/modules/`
- –ò—Å–ø–æ–ª—å–∑—É–π firebase-v8-adapter
- –°–ª–µ–¥—É–π –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
- –§–∞–π–ª—ã < 300 —Å—Ç—Ä–æ–∫
- –î–æ–±–∞–≤–ª—è–π —Å—Ç–∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ `/styles/`
- –ò—Å–ø–æ–ª—å–∑—É–π CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ü–≤–µ—Ç–æ–≤

### –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä—å –≤–µ—Ä—Å–∏—é Firebase (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å v8)
2. –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç–∏ –∏–º–ø–æ—Ä—Ç–æ–≤ (–æ—Å–æ–±–µ–Ω–Ω–æ logger)
3. –ü—Ä–æ–≤–µ—Ä—å `.exists` vs `.exists()`
4. –û—á–∏—Å—Ç–∏ –∫—ç—à (Service Worker)
5. –ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
6. –ü—Ä–æ–≤–µ—Ä—å –æ–±–µ —Ç–µ–º—ã

### CSS –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è:
1. –ò—Å–ø–æ–ª—å–∑—É–π CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ variables.css
2. –ü—Ä–æ–≤–µ—Ä—è–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç –≤ –æ–±–µ–∏—Ö —Ç–µ–º–∞—Ö
3. –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –≤ responsive.css
4. –î–ª—è –æ–≤–µ—Ä–ª–µ–µ–≤ –∏—Å–ø–æ–ª—å–∑—É–π overlays.css
5. **–í–ê–ñ–ù–û**: !important –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤

## üìä –°–¢–†–£–ö–¢–£–†–ê –ë–î FIRESTORE

```
users/
‚îú‚îÄ‚îÄ uid
‚îú‚îÄ‚îÄ email
‚îú‚îÄ‚îÄ name
‚îú‚îÄ‚îÄ role: admin|user|guest
‚îú‚îÄ‚îÄ status: active|pending|blocked
‚îú‚îÄ‚îÄ branchId: –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–ª–∏–∞–ª
‚îú‚îÄ‚îÄ additionalBranchIds: []
‚îú‚îÄ‚îÄ createdAt, approvedAt, etc.
‚îî‚îÄ‚îÄ repertoire/ (–ø–æ–¥–∫–æ–ª–ª–µ–∫—Ü–∏—è!)
    ‚îî‚îÄ‚îÄ [songId]
        ‚îú‚îÄ‚îÄ name
        ‚îú‚îÄ‚îÄ preferredKey (–æ–¥–Ω–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å!)
        ‚îú‚îÄ‚îÄ BPM
        ‚îú‚îÄ‚îÄ category
        ‚îî‚îÄ‚îÄ addedAt
(–ì–æ—Å—Ç–µ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ù–ï —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –ë–î!)

branches/
‚îú‚îÄ‚îÄ name
‚îú‚îÄ‚îÄ address
‚îú‚îÄ‚îÄ createdBy
‚îî‚îÄ‚îÄ createdAt

worship_setlists/
‚îú‚îÄ‚îÄ name
‚îú‚îÄ‚îÄ songs: []
‚îú‚îÄ‚îÄ branchId
‚îú‚îÄ‚îÄ createdBy
‚îî‚îÄ‚îÄ createdAt

songs/
‚îú‚îÄ‚îÄ name (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏)
‚îú‚îÄ‚îÄ text
‚îú‚îÄ‚îÄ defaultKey / –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ sheet (–∫–∞—Ç–µ–≥–æ—Ä–∏—è)
‚îú‚îÄ‚îÄ BPM / bpm
‚îî‚îÄ‚îÄ youtubeLink

branchRequests/
‚îú‚îÄ‚îÄ userId
‚îú‚îÄ‚îÄ requestedBranchId
‚îú‚îÄ‚îÄ type: 'change' | 'add'
‚îú‚îÄ‚îÄ status: 'pending' | 'approved' | 'rejected'
‚îî‚îÄ‚îÄ createdAt
```

## üîç –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

```bash
# –ù–∞–π—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
grep -r "functionName" --include="*.js"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã —Ñ–∞–π–ª–∞
grep -r "from.*filename" --include="*.js"

# –ù–∞–π—Ç–∏ –≤—Å–µ TODO
grep -r "TODO" --include="*.js"

# –ù–∞–π—Ç–∏ –≤—Å–µ console.log (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ logger.log)
grep -r "console\.log" --include="*.js"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (–Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å > 300 —Å—Ç—Ä–æ–∫)
find . -name "*.js" -exec wc -l {} + | sort -n
```

## üé® –í–ê–ñ–ù–´–ï UI/UX –ü–ê–¢–¢–ï–†–ù–´

1. **–û–≤–µ—Ä–ª–µ–∏**: –ò—Å–ø–æ–ª—å–∑—É–π –≥–æ—Ç–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏–∑ songsOverlay.js
2. **–ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è**: –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ + alert
3. **–§–∏–ª—å—Ç—Ä—ã**: –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π + –ø–æ–¥—Ñ–∏–ª—å—Ç—Ä—ã)
4. **–ö–∞—Ä—Ç–æ—á–∫–∏ –ø–µ—Å–µ–Ω**: –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –¥–ª—è —Å–ø–∏—Å–∫–æ–≤
5. **–ö–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è**: –í—Å–µ–≥–¥–∞ –∫—Ä–∞—Å–Ω—ã–µ, –≤–∏–¥–Ω—ã –ø—Ä–∏ hover
6. **–°–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏**: –ò—Å–ø–æ–ª—å–∑—É–π data-attributes

## üí° –ì–õ–ê–í–ù–´–ô –°–û–í–ï–¢

**–ù–∞—á–Ω–∏ —Å —á—Ç–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞, –∑–∞—Ç–µ–º AI_AGENT_GUIDE.md –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.**
–ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—à—å—Å—è - —Å–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–µ –¥–µ–ª–∞–π –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π.
–ü–æ–º–Ω–∏ –æ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ù–ï –Ω–∞—Ä—É—à–∞–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞.
–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–æ–º –í–°–ï–ì–î–ê –ø—Ä–æ–≤–µ—Ä—è–π –ø—É—Ç—å –≤ Firestore!

---
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 5 –∞–≤–≥—É—Å—Ç–∞ 2025
**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å**: –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø
**Service Worker**: v146