# Новая компоновка панели сет-листов (v2)

## Структура панели

### 1. Шапка панели
- **Левая часть**: Заголовок "Сет-листы" + кнопка выбора филиала
- **Правая часть**: Кнопка закрытия панели (X)

### 2. Секция создания
- Кнопка "Создать сет-лист" на всю ширину панели

### 3. Контейнер карточек
- Список карточек сет-листов с прокруткой

## Визуальная схема

```
┌────────────────────────────────────────┐
│ Сет-листы [⛪ Алматы ▼]           [X]  │ ← Шапка
├────────────────────────────────────────┤
│ [    ➕ Создать сет-лист             ] │ ← Кнопка создания
├────────────────────────────────────────┤
│ ┌──────────────────────────────────┐  │
│ │ 📋 Воскресное служение           │  │
│ │    👤 Иван Петров                │  │ ← Карточки
│ │    5 песен • 15.12.2024          │  │
│ └──────────────────────────────────┘  │
│                                        │
│ ┌──────────────────────────────────┐  │
│ │ 📋 Молодежка                     │  │
│ │    👤 Мария Иванова              │  │
│ │    7 песен • 14.12.2024          │  │
│ └──────────────────────────────────┘  │
└────────────────────────────────────────┘
```

## HTML структура

```html
<aside id="setlists-panel">
    <!-- Шапка -->
    <div class="panel-header-section">
        <div class="panel-header-row">
            <div class="panel-title-group">
                <h3 class="panel-title">Сет-листы</h3>
                <button id="setlist-branch-btn" class="branch-button">
                    <i class="fas fa-church"></i>
                    <span>Алматы</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Кнопка создания -->
    <div class="panel-create-section">
        <button id="create-new-setlist-header-btn" class="full-width">
            <i class="fas fa-plus"></i>
            <span>Создать сет-лист</span>
        </button>
    </div>
    
    <!-- Карточки -->
    <div class="setlists-cards-container">
        <!-- Карточки сет-листов -->
    </div>
</aside>
```

## CSS стили

### Группа заголовка
```css
.panel-title-group {
    display: flex;
    align-items: center;
    gap: 10px;
    flex: 1;
}
```

### Секция создания
```css
.panel-create-section {
    padding: 8px;
    background: var(--bg-primary, #0f172a);
    border-bottom: 1px solid var(--border-color);
}

.icon-button-header.full-width {
    width: 100%;
    justify-content: center;
}
```

### Попап филиала
```css
.branch-selector-popup {
    position: absolute;
    top: 50px;
    left: 130px;
    width: 200px;
}
```

## Преимущества новой компоновки

1. **Логичная группировка**: Филиал рядом с заголовком показывает контекст
2. **Выделение основного действия**: Кнопка создания на всю ширину привлекает внимание
3. **Чистота интерфейса**: Меньше кнопок в шапке, более понятная иерархия
4. **Лучшее использование пространства**: Кнопка создания не теснится в шапке

## Service Worker
Версия: v605