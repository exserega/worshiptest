# üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–æ–¥–∞ –≤ –ø—Ä–æ–µ–∫—Ç–µ

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ò–º–ø–æ—Ä—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª–µ–π –≤–º–µ—Å—Ç–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: –ü–ª–µ–µ—Ä –≤ –∞—Ä—Ö–∏–≤–µ**

```javascript
// archive.js - –ò–º–ø–æ—Ä—Ç –ø–ª–µ–µ—Ä–∞ –∏–∑ —Å–æ–±—ã—Ç–∏–π
async function launchArchivePlayer(setlistId) {
    // ... –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö ...
    
    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–æ–¥—É–ª—å
    const { openEventPlayer } = await import('../src/modules/events/eventPlayer.js');
    
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    await openEventPlayer(null, songs, 0); // null –≤–º–µ—Å—Ç–æ eventId
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ –¥—É–±–ª–∏—Ä—É–µ—Ç—Å—è 690 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–µ–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤–µ–∑–¥–µ

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å—Ç–∏–ª–µ–π

```html
<!-- archive/index.html -->
<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ –ø–ª–µ–µ—Ä–∞ –∏–∑ –æ–±—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ -->
<link rel="stylesheet" href="../styles/event-player.css">
```

### 3. –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–æ–¥—É–ª–µ–π

**–í–∞–∂–Ω–æ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –æ–∂–∏–¥–∞–Ω–∏—è–º –º–æ–¥—É–ª—è.

```javascript
// –ó–∞–≥—Ä—É–∂–∞–µ–º –ü–û–õ–ù–´–ï –¥–∞–Ω–Ω—ã–µ –ø–µ—Å–µ–Ω –¥–ª—è –ø–ª–µ–µ—Ä–∞
const songsSnapshot = await db.collection('songs')
    .where(firebase.firestore.FieldPath.documentId(), 'in', songIds)
    .get();

// –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –Ω—É–∂–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
const songs = sortedSongs.map(songRef => {
    const song = songsMap.get(songRef.songId);
    
    // –í–ê–ñ–ù–û: –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –ø–æ–ª—è –ø–µ—Ä–µ–¥ spread –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º!
    const songData = {
        name: song.name || song.title || songRef.songId || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
        ...song, // spread –ü–û–°–õ–ï —É—Å—Ç–∞–Ω–æ–≤–∫–∏ name
        preferredKey: songRef.preferredKey || song['–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–∞—è —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å'] || 'C'
    };
    
    return songData;
});
```

**–¢–∏–ø–∏—á–Ω–∞—è –æ—à–∏–±–∫–∞:** –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–ª–µ –ø–æ—Å–ª–µ spread –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞, –æ–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω–æ –∏—Å—Ö–æ–¥–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–∑ –æ–±—ä–µ–∫—Ç–∞.

## üîÑ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

```javascript
// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
async function useFeature() {
    const { featureFunction } = await import('./path/to/module.js');
    await featureFunction(params);
}
```

### 2. –£—Å–ª–æ–≤–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

```javascript
// –ü–ª–µ–µ—Ä –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å eventId –∏–ª–∏ –±–µ–∑ –Ω–µ–≥–æ
await openEventPlayer(
    eventId || null,  // null –¥–ª—è –∞—Ä—Ö–∏–≤–Ω—ã—Ö —Å–µ—Ç-–ª–∏—Å—Ç–æ–≤
    songs,
    startIndex
);
```

### 3. –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```javascript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
const { openModal } = await import('../src/modules/ui/modals.js');
openModal({
    title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
    content: '–°–æ–¥–µ—Ä–∂–∏–º–æ–µ',
    buttons: [...]
});
```

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò–∑—É—á–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥** –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –Ω—É–∂–Ω—ã –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏/—Å–∫—Ä–∏–ø—Ç—ã
3. **–ê–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ**, –∞ –Ω–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –º–æ–¥—É–ª—å
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á—É–∂–∏—Ö –º–æ–¥—É–ª–µ–π
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## ‚ö†Ô∏è –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å

1. **–ù–ï –∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥** - –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª–∏
2. **–ù–ï –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ** –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã
3. **–ù–ï –∑–∞–±—ã–≤–∞–π—Ç–µ** –ø—Ä–æ —Å—Ç–∏–ª–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. **–ù–ï –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ** —Ä–∞–∑–ª–∏—á–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –¥–∞–Ω–Ω—ã—Ö

## üìã –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–æ–¥—É–ª–µ–π

### –ì–æ—Ç–æ–≤—ã–µ –∫ –∏–º–ø–æ—Ä—Ç—É:
- `eventPlayer.js` - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–µ—Ç-–ª–∏—Å—Ç–æ–≤
- `songsOverlay.js` - –≤—ã–±–æ—Ä –ø–µ—Å–µ–Ω
- `eventCreationModal.js` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
- `participantsSelector.js` - –≤—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –¢—Ä–µ–±—É—é—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏:
- `eventsOverlay.js` - —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π —Å –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º
- `calendarView.js` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

## üîó –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–î–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ "–í –∫–∞–ª–µ–Ω–¥–∞—Ä—å" –≤ –∞—Ä—Ö–∏–≤–µ –º–æ–∂–Ω–æ:
1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `openEventsOverlay` –∏–∑ events –º–æ–¥—É–ª—è
2. –ü–µ—Ä–µ–¥–∞—Ç—å preselectedSetlistId –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –¥–∞—Ç—ã