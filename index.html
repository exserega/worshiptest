<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agape Worship</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <link rel="manifest" href="manifest.json">  </head>
<body>

<div id="notes-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <h3 class="modal-title">–ó–∞–º–µ—Ç–∫–∞ –∫ –ø–µ—Å–Ω–µ</h3>
        <textarea id="note-edit-textarea" rows="6" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∑–∞–º–µ—Ç–∫–∏..."></textarea>
        <div class="modal-actions">
            <button id="save-note-button" class="modal-button primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button id="cancel-note-button" class="modal-button secondary">–û—Ç–º–µ–Ω–∞</button>
        </div>
        <button id="close-note-modal-x" class="modal-close-x">&times;</button>
    </div>
</div>

<header>
    <h1>Agape Worship</h1>
    <button id="theme-toggle-button" class="theme-toggle" title="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É">
      <span class="theme-toggle-bg">
        <i class="fas fa-moon theme-icon moon"></i>
        <i class="fas fa-sun theme-icon sun"></i>
      </span>
      <span class="theme-toggle-slider">
        <i class="fas fa-moon"></i>
      </span>
    </button>
</header>

<main class="container">
    <section class="controls">
        <fieldset class="search-group">
            <legend>–ü–æ–∏—Å–∫</legend>
            <input type="text" id="search-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏...">
            <div id="search-results"></div>
        </fieldset>
        <div class="select-filters-container">
            <div class="filter-group">
                <select id="sheet-select">
                    <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é --</option>
                </select>
            </div>
            <div class="filter-group">
                <select id="song-select">
                    <option value="">-- –ü–µ—Å–Ω—è --</option>
                </select>
            </div>
        </div>
        <div class="control-group">
            <fieldset class="key-group">
                <legend>–¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å</legend>
                <select id="key-select">
                    <option value="C">C</option>
                    <option value="C#">C#</option>
                    <option value="D">D</option>
                    <option value="D#">D#</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="F#">F#</option>
                    <option value="G">G</option>
                    <option value="G#">G#</option>
                    <option value="A">A</option>
                    <option value="A#">A#</option>
                    <option value="H">H</option>
                </select>
            </fieldset>
            <div class="function-buttons-group">
                <button id="toggle-chords-button" class="control-group-button icon-button simple" title="–°–∫—Ä—ã—Ç—å –∞–∫–∫–æ—Ä–¥—ã">
                    <i class="fas fa-guitar"></i>
                    <span class="button-text">–ê–∫–∫–æ—Ä–¥—ã</span>
                </button>
                <button id="chords-only-button" class="control-group-button icon-button simple" title="–ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫–∫–æ—Ä–¥—ã">
                    <span class="text-icon">T</span>
                    <span class="button-text">–¢–æ–ª—å–∫–æ –∞–∫–∫–æ—Ä–¥—ã</span>
                </button>
                <button id="split-text-button" aria-label="–†–∞–∑–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç" class="control-group-button icon-button simple">
                    <i class="fas fa-columns"></i>
                    <span class="button-text">–†–∞–∑–¥–µ–ª–∏—Ç—å</span>
                </button>
            </div>
            <div class="font-size-controls">
                <button id="zoom-out" class="icon-button simple" title="–£–º–µ–Ω—å—à–∏—Ç—å —à—Ä–∏—Ñ—Ç"><i class="fas fa-search-minus"></i></button>
                <button id="zoom-in" class="icon-button simple" title="–£–≤–µ–ª–∏—á–∏—Ç—å —à—Ä–∏—Ñ—Ç"><i class="fas fa-search-plus"></i></button>
            </div>
        </div>
    </section>

    <fieldset id="song-content">
        <legend id="song-title">
            <span class="song-title-text">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Å–Ω—é</span>
            <button id="edit-song-button" class="icon-button simple legend-button" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Å–Ω—é" style="display: none;">
                <i class="fas fa-edit"></i>
            </button>
        </legend>
        <div class="song-actions-legend-row">
            <div class="song-legend-action" data-legend="–°–µ—Ç –ª–∏—Å—Ç">
                <button id="add-to-setlist-button" class="legend-icon-btn setlist" aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ—Ç-–ª–∏—Å—Ç" title="–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–µ—Ç-–ª–∏—Å—Ç">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            <div class="song-legend-action" data-legend="–ú–æ–∏">
                <button id="favorite-button" class="legend-icon-btn heart" aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ –ú–æ–∏" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –ú–æ–∏">
                    <i class="far fa-heart"></i>
                </button>
            </div>
            <div class="song-legend-action" data-legend="–†–µ–ø–µ—Ä—Ç—É–∞—Ä">
                <button id="repertoire-button" class="legend-icon-btn mic" aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä" title="–î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä">
                    <i class="fas fa-microphone"></i>
                </button>
            </div>
        </div>
        <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –≤–µ—Ä—Ö–Ω–µ–º –ø—Ä–∞–≤–æ–º —É–≥–ª—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ -->
        <button id="copy-text-button" class="icon-button simple" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏" style="display: none;">
            <i class="far fa-copy"></i>
        </button>
        <pre id="song-display"></pre>
    </fieldset>

    <!-- Metronome Control Bar - Under Song -->
    <div class="metronome-control-bar">
        <button id="open-metronome-overlay" class="metronome-button" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ—Ç—Ä–æ–Ω–æ–º" title="–ú–µ—Ç—Ä–æ–Ω–æ–º">
            <i class="fas fa-drum" aria-hidden="true"></i>
            <span>–ú–µ—Ç—Ä–æ–Ω–æ–º</span>
        </button>
        
        <div class="current-bpm-display">
            <span id="current-bpm-value" class="bpm-value">NA</span>
            <span class="bpm-unit">BPM</span>
        </div>
        
        <button id="metronome-play-toggle" class="metronome-play-toggle" aria-label="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –º–µ—Ç—Ä–æ–Ω–æ–º" title="Play/Stop">
            <i class="fas fa-play"></i>
            <span class="play-text">Play</span>
        </button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
    <div id="song-editor-overlay" class="song-editor-overlay">
        <div class="song-editor-modal">
            <div class="song-editor-header">
                <h3 id="song-editor-title">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏</h3>
                <button id="close-editor-button" class="icon-button simple" title="–ó–∞–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="song-editor-content">
                <div class="editor-info">
                    <span id="edit-status-info">üìÑ –û—Ä–∏–≥–∏–Ω–∞–ª –∏–∑ Google –¢–∞–±–ª–∏—Ü—ã</span>
                    <button id="revert-to-original-button" class="editor-button revert" style="display: none;">
                        <i class="fas fa-undo"></i>
                        –í–µ—Ä–Ω—É—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª
                    </button>
                </div>
                
                <textarea id="song-edit-textarea" class="song-edit-textarea" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –ø–µ—Å–Ω–∏ —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏..."></textarea>
            </div>
            
            <div class="song-editor-footer">
                <div class="editor-controls">
                    <button id="save-edit-button" class="editor-button save">
                        <i class="fas fa-save"></i>
                        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    <button id="cancel-edit-button" class="editor-button cancel">
                        <i class="fas fa-times"></i>
                        –û—Ç–º–µ–Ω–∏—Ç—å
                    </button>
                </div>
            </div>
        </div>
    </div>



     <section id="youtube-player-section" style="margin-top: 20px; display: none;">
         <h3>–í–∏–¥–µ–æ / –ê—É–¥–∏–æ</h3>
         <p id="youtube-video-key-display" style="text-align: center; margin-bottom: 10px; display: none; font-size: 0.9rem; color: var(--label-color);"></p>
         <div id="youtube-player-container" style="max-width: 100%; margin: auto;">
             </div>
     </section>

    <div class="controls-footer">
        <a id="holychords-button" href="#" target="_blank">Holychords</a>
    </div>
</main>

<aside id="setlists-panel" class="side-panel setlists-panel horizontal-layout">
    <button class="side-panel-close-btn icon-button simple" title="–ó–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å"><i class="fas fa-chevron-left"></i></button>
    
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º –∏ –∫–Ω–æ–ø–∫–æ–π —Å–æ–∑–¥–∞–Ω–∏—è -->
    <div class="setlists-header">
        <div class="header-left">
            <h2 class="panel-main-title">–°–µ—Ç-–ª–∏—Å—Ç—ã</h2>
            <span id="current-setlist-header-title" class="current-setlist-name">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç-–ª–∏—Å—Ç</span>
        </div>
        <div class="header-right">
            <button id="create-setlist-button" class="create-setlist-btn" title="–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ç-–ª–∏—Å—Ç">
                <i class="fas fa-plus"></i>
                <span>–ù–æ–≤—ã–π —Å–µ—Ç-–ª–∏—Å—Ç</span>
            </button>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –¥–≤—É–º—è –ø–∞–Ω–µ–ª—è–º–∏ -->
    <div class="setlists-main-content">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: —Å–ø–∏—Å–æ–∫ —Å–µ—Ç-–ª–∏—Å—Ç–æ–≤ -->
        <div class="setlists-left-panel">
            <div class="setlists-list-header">
                <h3>–í—Å–µ —Å–µ—Ç-–ª–∏—Å—Ç—ã</h3>
            </div>
            <div id="setlists-list-container" class="setlists-list-content">
                <div class="empty-message">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–µ—Ç-–ª–∏—Å—Ç–æ–≤...</div>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–µ—Ç-–ª–∏—Å—Ç–∞ -->
        <div class="setlists-right-panel">
            <div class="current-setlist-header">
                <div class="current-setlist-title-section">
                    <h3 id="current-setlist-title">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç-–ª–∏—Å—Ç</h3>
                    <div class="current-setlist-meta">
                        <span id="current-setlist-count" class="songs-count">0 –ø–µ—Å–µ–Ω</span>
                    </div>
                </div>
                <div class="current-setlist-controls" style="display: none;">
                    <button id="start-presentation-button" class="setlist-action-btn primary" title="–ù–∞—á–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ç-–ª–∏—Å—Ç–∞">
                        <i class="fas fa-play"></i>
                        <span>–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è</span>
                    </button>
                    <button id="delete-setlist-button" class="setlist-action-btn danger" title="–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Å–µ—Ç-–ª–∏—Å—Ç">
                        <i class="fas fa-trash-alt"></i>
                        <span>–£–¥–∞–ª–∏—Ç—å</span>
                    </button>
                </div>
            </div>
            <div id="current-setlist-songs-container" class="current-setlist-content">
                <div class="empty-message">
                    <div class="empty-icon">
                        <i class="fas fa-music"></i>
                    </div>
                    <div class="empty-text">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç-–ª–∏—Å—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞</div>
                    <div class="empty-hint">–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ç-–ª–∏—Å—Ç</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Ç-–ª–∏—Å—Ç–∞ -->
    <div id="create-setlist-modal" class="setlist-modal-overlay" style="display: none;">
        <div class="setlist-modal">
            <div class="setlist-modal-header">
                <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ—Ç-–ª–∏—Å—Ç</h3>
                <button id="close-create-setlist-modal" class="modal-close-btn">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="setlist-modal-content">
                <div class="input-group">
                    <label for="new-setlist-name-input">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç-–ª–∏—Å—Ç–∞</label>
                    <input type="text" id="new-setlist-name-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ç-–ª–∏—Å—Ç–∞..." maxlength="100">
                </div>
            </div>
            <div class="setlist-modal-footer">
                <button id="cancel-create-setlist" class="modal-btn secondary">–û—Ç–º–µ–Ω–∞</button>
                <button id="confirm-create-setlist" class="modal-btn primary">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </div>
    </div>
</aside>

<aside id="my-list-panel" class="side-panel my-list-panel">
    <button class="side-panel-close-btn icon-button simple" title="–ó–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å"><i class="fas fa-chevron-left"></i></button>
    <div id="my-list" class="list-section">
        <h3>–ú–æ–∏</h3>
        <div id="favorites-list" class="list-container">
            <div class="empty-message">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>
    </div>
</aside>

<aside id="repertoire-panel" class="side-panel repertoire-panel">
    <button class="side-panel-close-btn icon-button simple" title="–ó–∞–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å"><i class="fas fa-chevron-right"></i></button>
    <h3 class="panel-header">–†–µ–ø–µ—Ä—Ç—É–∞—Ä</h3>

    <div class="repertoire-vocalist-selector">
        <label for="vocalist-select">–í–æ–∫–∞–ª–∏—Å—Ç:</label>
        <select id="vocalist-select">
            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∫–∞–ª–∏—Å—Ç–∞ --</option>
            </select>
    </div>

    <div class="repertoire-view-controls">
        <button id="repertoire-view-key" class="repertoire-view-button active" title="–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏">
            <i class="fas fa-key"></i> <span class="button-text-rp">–ü–æ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏</span>
        </button>
        <button id="repertoire-view-sheet" class="repertoire-view-button" title="–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ª–∏—Å—Ç–∞–º">
            <i class="far fa-file-alt"></i> <span class="button-text-rp">–ü–æ –ª–∏—Å—Ç–∞–º</span>
        </button>
        <button id="repertoire-view-all" class="repertoire-view-button" title="–ü–æ–∫–∞–∑–∞—Ç—å –≤–µ—Å—å —Å–ø–∏—Å–æ–∫ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ">
            <i class="fas fa-sort-alpha-down"></i> <span class="button-text-rp">–í–µ—Å—å —Å–ø–∏—Å–æ–∫</span>
        </button>
    </div>
    <div id="repertoire-panel-list" class="repertoire-list-container list-container">
        <div class="empty-message">–í—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∫–∞–ª–∏—Å—Ç–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä–∞.</div>
        </div>
</aside>

<div id="presentation-overlay" class="presentation-overlay">
    <button id="presentation-close-btn" class="presentation-close-btn" title="–ó–∞–∫—Ä—ã—Ç—å —Ä–µ–∂–∏–º –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏">&times;</button>
    <button id="pres-split-text-btn" class="presentation-control-btn" title="–†–∞–∑–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç">
        <i class="fas fa-columns"></i>
    </button>
    <div class="presentation-controls">
        <button id="pres-prev-btn" class="presentation-nav-btn" title="–ü—Ä–µ–¥—ã–¥—É—â–∞—è –ø–µ—Å–Ω—è">
            <i class="fas fa-chevron-left"></i>
        </button>
        <span id="pres-counter" class="presentation-counter">0 / 0</span>
        <button id="pres-next-btn" class="presentation-nav-btn" title="–°–ª–µ–¥—É—é—â–∞—è –ø–µ—Å–Ω—è">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
    <div id="presentation-content" class="presentation-content">
        </div>
</div>

<!-- Metronome Overlay -->
<div id="metronome-overlay" class="metronome-overlay">
    <div class="metronome-modal">
        <div class="metronome-header">
            <div class="metronome-time-signature">
                <select id="metronome-time-signature" class="time-signature-select">
                    <option value="4">4/4</option>
                    <option value="3">3/4</option>
                    <option value="6">6/8</option>
                    <option value="2">2/4</option>
                </select>
            </div>
            
            <div class="metronome-bpm-display">
                <input type="number" id="metronome-bpm-input" class="bpm-input-large" min="40" max="200" step="1" value="120">
                <span class="bpm-label">BPM</span>
            </div>
            
            <button id="close-metronome-overlay" class="close-metronome-btn" title="–ó–∞–∫—Ä—ã—Ç—å –º–µ—Ç—Ä–æ–Ω–æ–º">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="metronome-main-controls">
            <div class="bmp-controls-row">
                <button class="bpm-control-btn bpm-decrease" id="metronome-bpm-decrease" title="–£–º–µ–Ω—å—à–∏—Ç—å BPM">
                    <i class="fas fa-minus"></i>
                </button>
                
                <div class="bpm-slider-container">
                    <div class="bpm-slider-track">
                        <div class="bpm-slider-progress" id="bpm-slider-progress"></div>
                        <div class="bpm-slider-handle" id="bpm-slider-handle">
                            <div class="handle-indicator"></div>
                        </div>
                    </div>
                    <div class="bpm-range-labels">
                        <span class="range-min">40</span>
                        <span class="range-max">200</span>
                    </div>
                </div>
                
                <button class="bpm-control-btn bpm-increase" id="metronome-bpm-increase" title="–£–≤–µ–ª–∏—á–∏—Ç—å BPM">
                    <i class="fas fa-plus"></i>
                </button>
            </div>
            
            <div class="metronome-play-controls">
                <button id="metronome-play-button" class="metronome-play-button-large" aria-label="–í–∫–ª—é—á–∏—Ç—å –º–µ—Ç—Ä–æ–Ω–æ–º">
                    <i class="fas fa-play"></i>
                </button>
            </div>
        </div>
    </div>
</div>

<div id="loading-indicator">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

<nav class="mobile-bottom-nav" role="navigation" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
    <button id="toggle-setlists" class="mobile-nav-button" aria-label="–û—Ç–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å —Å–µ—Ç-–ª–∏—Å—Ç–æ–≤" title="–°–µ—Ç-–ª–∏—Å—Ç—ã">
        <i class="fas fa-music" aria-hidden="true"></i>
        <span>–°–µ—Ç-–ª–∏—Å—Ç—ã</span>
    </button>
    <button id="toggle-my-list" class="mobile-nav-button" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–æ–π —Å–ø–∏—Å–æ–∫ –ø–µ—Å–µ–Ω" title="–ú–æ–∏">
        <i class="fas fa-heart" aria-hidden="true"></i>
        <span>–ú–æ–∏</span>
    </button>
    <button id="toggle-repertoire" class="mobile-nav-button" aria-label="–û—Ç–∫—Ä—ã—Ç—å —Ä–µ–ø–µ—Ä—Ç—É–∞—Ä –≤–æ–∫–∞–ª–∏—Å—Ç–æ–≤" title="–†–µ–ø–µ—Ä—Ç—É–∞—Ä">
        <i class="fas fa-microphone" aria-hidden="true"></i>
        <span>–†–µ–ø–µ—Ä—Ç—É–∞—Ä</span>
    </button>
</nav>

  <!-- New Metronome Module - No external libraries needed -->
  
  <script type="module" src="script.js"></script>

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js')
            .then(registration => {
              console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration);
            })
            .catch(error => {
              console.log('–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Service Worker:', error);
            });
        });
      }
    </script>
</body>
</html>
