/* ======================================== */
/* Additional Components - Agape Worship v2.3 */
/* ======================================== */

/* –°—Ç–∏–ª–∏ –¥–ª—è –º–∞—Ä–∫–µ—Ä–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–µ—Å–Ω–∏ (–ö—É–ø–ª–µ—Ç, –ü—Ä–∏–ø–µ–≤ –∏ —Ç.–¥.) */
.song-structure {
    display: block; /* –ó–∞–Ω–∏–º–∞–µ—Ç –≤—Å—é —Å—Ç—Ä–æ–∫—É */
    font-weight: bold; /* –ñ–∏—Ä–Ω—ã–π —à—Ä–∏—Ñ—Ç */
    color: var(--secondary-color); /* –ò–ª–∏ var(--primary-color) */
    margin-top: 0.8em; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –ø–µ—Ä–µ–¥ –º–∞—Ä–∫–µ—Ä–æ–º */
    margin-bottom: 0.3em; /* –ù–µ–±–æ–ª—å—à–æ–π –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –ø–æ—Å–ª–µ –º–∞—Ä–∫–µ—Ä–∞ */
    text-transform: uppercase; /* –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –±–æ–ª—å—à–∏–º–∏ –±—É–∫–≤–∞–º–∏ */
    letter-spacing: 0.5px; /* –ù–µ–±–æ–ª—å—à–æ–µ —Ä–∞–∑—Ä–µ–∂–µ–Ω–∏–µ –±—É–∫–≤ */
    font-size: 0.9em; /* –ß—É—Ç—å –º–µ–Ω—å—à–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ */
}
/* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–π –æ—Ç—Å—Ç—É–ø —É —Å–∞–º–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –º–∞—Ä–∫–µ—Ä–∞ –≤ —Ç–µ–∫—Å—Ç–µ */
pre > .song-structure:first-child {
    margin-top: 0;
}

/* –í —Ä–µ–∂–∏–º–µ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∏—Ö —á—É—Ç—å –∑–∞–º–µ—Ç–Ω–µ–µ */
.presentation-song .song-structure {
     color: var(--primary-color); /* –î—Ä—É–≥–æ–π —Ü–≤–µ—Ç –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ */
     font-size: 0.85em;
     margin-top: 1em;
     margin-bottom: 0.4em;
}
body[data-theme="light"] .presentation-song .song-structure {
     color: var(--secondary-color); /* –¶–≤–µ—Ç –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã –≤ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ */
}

/* === –°–¢–ò–õ–ò –î–õ–Ø –ë–õ–û–ö–û–í –ü–ï–°–ù–ò === */
/* –ü–û–õ–ù–´–ô –°–ë–†–û–° –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Å—Ç–∏–ª–µ–π –¥–ª—è fieldset */
.song-block {
    /* –°–ë–†–û–° –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö —Å—Ç–∏–ª–µ–π fieldset */
    border: 1px solid var(--border-color);
    border-radius: var(--radius);
    margin: 2px 0 !important; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ */
    padding: 0 !important; /* –ü–û–õ–ù–û–°–¢–¨–Æ —É–±–∏—Ä–∞–µ–º padding —É fieldset */
    background-color: var(--container-background-color);
    transition: border-color 0.3s ease, background-color 0.3s ease;
    
    /* –£–±–∏—Ä–∞–µ–º –≤—Å–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
    min-width: 0;
    max-width: 100%; /* –°—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É */
    box-sizing: border-box;
    
    /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ */
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: hidden; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã */
}

.song-block:first-child {
    margin-top: 0 !important;
}

.song-block:last-child {
    margin-bottom: 0 !important;
}

/* –ö–ê–†–î–ò–ù–ê–õ–¨–ù–û –ü–ï–†–ï–†–ê–ë–û–¢–ê–ù–ù–´–ï —Å—Ç–∏–ª–∏ –¥–ª—è legend */
.song-block-legend {
    color: var(--primary-color);
    font-weight: 700; /* –£–≤–µ–ª–∏—á–∏–ª–∏ –∂–∏—Ä–Ω–æ—Å—Ç—å —Å 600 –¥–æ 700 –¥–ª—è –ª—É—á—à–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è */
    font-size: calc(var(--lyrics-font-size, 1rem) * 1.0); /* –¢–∞–∫–æ–π –∂–µ —Ä–∞–∑–º–µ—Ä –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
    text-transform: uppercase;
    letter-spacing: 0.2px;
    transition: color 0.3s ease, background-color 0.3s ease;
    
    /* –î–û–ë–ê–í–õ–Ø–ï–ú –§–û–ù –ö–ê–ö –£ –ê–ö–ö–û–†–î–û–í */
    background-color: color-mix(in srgb, var(--accent-color) 2%, transparent);
    border-radius: 3px;
    
    /* –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û –ö–û–ú–ü–ê–ö–¢–ù–´–ï –æ—Ç—Å—Ç—É–ø—ã */
    padding: 4px 8px !important; /* –£–≤–µ–ª–∏—á–∏–ª–∏ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π padding –µ—â–µ –±–æ–ª—å—à–µ –¥–ª—è –ª—É—á—à–µ–≥–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
    margin: 0 0 -16px 12px !important; /* –£–≤–µ–ª–∏—á–∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π margin —Å -10px –¥–æ -16px –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏ */
    border: none !important;
    line-height: 1.3 !important; /* –£–≤–µ–ª–∏—á–∏–ª–∏ line-height –¥–ª—è –µ—â–µ –ª—É—á—à–µ–≥–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è */
    
    /* –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: calc(100% - 24px);
    
    /* –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ */
    float: none !important;
    width: auto !important;
    display: inline-flex !important; /* –ò–∑–º–µ–Ω–∏–ª–∏ –Ω–∞ inline-flex –¥–ª—è –ª—É—á—à–µ–≥–æ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è */
    align-items: center !important; /* –¶–ï–ù–¢–†–ò–†–£–ï–ú —Ç–µ–∫—Å—Ç –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ–æ–Ω–∞ */
}

.song-block-content {
    margin: -14px 0 0 0 !important; /* –£–≤–µ–ª–∏—á–∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π margin —Å -8px –¥–æ -14px –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏ */
    padding: 0px 6px 1px 6px !important; /* –°–æ–∫—Ä–∞—Ç–∏–ª–∏ –Ω–∏–∂–Ω–∏–π padding –µ—â–µ –≤ 2 —Ä–∞–∑–∞: —Å 2px –¥–æ 1px */
    white-space: pre-wrap; /* –ò–∑–º–µ–Ω—è–µ–º —Å pre –Ω–∞ pre-wrap –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–∞ */
    line-height: inherit;
    box-sizing: border-box;
    max-width: 100%; /* –°—Ç—Ä–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É */
    
    /* –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞ */
    word-wrap: break-word;
    overflow-wrap: break-word;
    overflow: hidden; /* –ó–∞–ø—Ä–µ—â–∞–µ–º –≤—ã—Ö–æ–¥ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã */
}

/* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ –¥–ª—è –±–ª–æ–∫–æ–≤ */
body[data-theme="light"] .song-block {
    border-color: var(--border-color);
    background-color: var(--container-background-color);
}

body[data-theme="light"] .song-block-legend {
    color: var(--secondary-color);
    background-color: color-mix(in srgb, var(--accent-color) 5%, transparent); /* –ë–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω—ã–π —Ñ–æ–Ω –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ –∫–∞–∫ —É –∞–∫–∫–æ—Ä–¥–æ–≤ */
}

/* === –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ô –ü–ê–†–°–ï–†: –°–¢–ò–õ–ò –£–í–ï–†–ï–ù–ù–û–°–¢–ò === */

/* –í—ã—Å–æ–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (80%+) */
.song-block.high-confidence {
    border-color: color-mix(in srgb, var(--accent-color) 60%, transparent);
}

.song-block.high-confidence .song-block-legend {
    border-color: color-mix(in srgb, var(--accent-color) 80%, transparent);
    background: color-mix(in srgb, var(--accent-color) 8%, transparent);
}

body[data-theme="light"] .song-block.high-confidence .song-block-legend {
    background: color-mix(in srgb, var(--accent-color) 12%, transparent);
    border-color: color-mix(in srgb, var(--accent-color) 40%, transparent);
}

/* –°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (50-80%) */
.song-block.medium-confidence {
    border-color: color-mix(in srgb, #fbbf24 40%, transparent);
}

.song-block.medium-confidence .song-block-legend {
    border-color: color-mix(in srgb, #fbbf24 60%, transparent);
    background: color-mix(in srgb, #fbbf24 5%, transparent);
}

body[data-theme="light"] .song-block.medium-confidence .song-block-legend {
    background: color-mix(in srgb, #fbbf24 8%, transparent);
    border-color: color-mix(in srgb, #fbbf24 30%, transparent);
}

/* –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (<50%) */
.song-block.low-confidence {
    border-color: color-mix(in srgb, var(--danger-color) 30%, transparent);
}

.song-block.low-confidence .song-block-legend {
    border-color: color-mix(in srgb, var(--danger-color) 50%, transparent);
    background: color-mix(in srgb, var(--danger-color) 3%, transparent);
}

body[data-theme="light"] .song-block.low-confidence .song-block-legend {
    background: color-mix(in srgb, var(--danger-color) 5%, transparent);
    border-color: color-mix(in srgb, var(--danger-color) 25%, transparent);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤ */
.song-block[data-method="learned"] {
    animation: learnedBlock 0.5s ease-out;
}

@keyframes learnedBlock {
    0% {
        border-color: var(--accent-color);
        box-shadow: 0 0 15px color-mix(in srgb, var(--accent-color) 30%, transparent);
    }
    100% {
        border-color: color-mix(in srgb, var(--accent-color) 60%, transparent);
        box-shadow: none;
    }
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
.song-block[data-type="verse"] .song-block-legend::before {
    content: "üìù ";
    opacity: 0.7;
}

.song-block[data-type="chorus"] .song-block-legend::before {
    content: "üéµ ";
    opacity: 0.7;
}

.song-block[data-type="bridge"] .song-block-legend::before {
    content: "üåâ ";
    opacity: 0.7;
}

.song-block[data-type="intro"] .song-block-legend::before {
    content: "üé¨ ";
    opacity: 0.7;
}

.song-block[data-type="outro"] .song-block-legend::before {
    content: "üé≠ ";
    opacity: 0.7;
}

.song-block[data-type="solo"] .song-block-legend::before {
    content: "üé∏ ";
    opacity: 0.7;
}

.song-block[data-type="pre"] .song-block-legend::before {
    content: "üîÄ ";
    opacity: 0.7;
}

/* –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –±–ª–æ–∫ */
.song-block[data-confidence][data-method] .song-block-legend:hover::after {
    content: "–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: " attr(data-confidence) "% (" attr(data-method) ")";
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.9);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.7rem;
    white-space: nowrap;
    z-index: 1000;
    pointer-events: none;
}

body[data-theme="light"] .song-block[data-confidence][data-method] .song-block-legend:hover::after {
    background: rgba(0, 0, 0, 0.8);
}

/* === –í–ê–†–ò–ê–ù–¢ 4: –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π (Ghost Buttons) === */
/* –î–æ–±–∞–≤–∏—Ç—å/–ò–∑–º–µ–Ω–∏—Ç—å –≤ styles.css */

.repertoire-view-controls {
    display: flex;
    justify-content: flex-start; /* –ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—é—Ç—Å—è */
    gap: 8px; /* –ó–∞–∑–æ—Ä –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ */
    margin-bottom: 15px;
    /* –£–±–∏—Ä–∞–µ–º —Å—Ç–∏–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≥—Ä—É–ø–ø—ã */
    border: none;
    border-radius: 0;
    overflow: visible;
    padding: 0;
    background-color: transparent;
}

.repertoire-view-button {
    flex-grow: 0; /* –ù–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å */
    padding: 6px 12px; /* –ü–æ–±–æ–ª—å—à–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã */
    font-size: 0.8rem;
    text-align: center;
    background-color: transparent;
    color: var(--label-color);
    border: 1px solid var(--border-color); /* –†–∞–º–∫–∞ —É –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö */
    cursor: pointer;
    transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
    border-radius: var(--radius); /* –û–±—ã—á–Ω–æ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ */
    box-shadow: none !important;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 5px;
    line-height: 1.2;
}

.repertoire-view-button:hover:not(.active) {
    border-color: var(--text-color); /* –†–∞–º–∫–∞ —Ç–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
    color: var(--text-color);
}

/* –°—Ç–∏–ª—å –ê–ö–¢–ò–í–ù–û–ô –∫–Ω–æ–ø–∫–∏ */
.repertoire-view-button.active {
    background-color: var(--primary-color);
    color: var(--button-text-color) !important;
    border-color: var(--primary-color); /* –†–∞–º–∫–∞ –≤ —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ */
    font-weight: 500;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
body[data-theme="light"] .repertoire-view-button {
     color: var(--label-color);
     border-color: var(--border-color);
}
body[data-theme="light"] .repertoire-view-button:hover:not(.active) {
     border-color: var(--text-color);
     color: var(--text-color);
}
body[data-theme="light"] .repertoire-view-button.active {
     background-color: var(--primary-color);
     color: var(--button-text-color) !important;
     border-color: var(--primary-color);
}

/* ============================================ */
/* –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô –° LEGEND-–ì–†–ê–ù–ò–¶–ê–ú–ò         */
/* ============================================ */

/* Song Actions Legend Row (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –∫–∞–∫ fieldset) */
.song-actions-legend-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 25px */
    margin: 12px 0 16px 0; /* –£–º–µ–Ω—å—à–∏–ª–∏ –æ—Ç—Å—Ç—É–ø—ã */
}

.song-legend-action {
    position: relative;
    display: inline-block;
}

/* –°–∞–º–∞ –∫–Ω–æ–ø–∫–∞ - –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è */
.legend-icon-btn {
    width: 60px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 80px */
    height: 40px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 50px */
    border: 1.5px solid var(--border-color);
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 8px */
    font-size: 1.1rem; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 1.3rem */
    transition: all 0.2s ease;
    cursor: pointer;
    box-shadow: none;
    padding: 0;
    margin: 0;
    margin-top: 8px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 12px */
    /* –¶–≤–µ—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–Ω–æ–ø–∫–∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –Ω–∏–∂–µ */
}

/* –ï–¥–∏–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º—ã */
.legend-icon-btn.heart,
.legend-icon-btn.setlist,
.legend-icon-btn.mic {
    color: #e5e7eb !important; /* –°–≤–µ—Ç–ª—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
}

/* –¢–µ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
body[data-theme="light"] .legend-icon-btn.heart,
body[data-theme="light"] .legend-icon-btn.setlist,
body[data-theme="light"] .legend-icon-btn.mic {
    color: #1e293b !important; /* –¢–µ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
}

/* Fallback —Ü–≤–µ—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫ –±–µ–∑ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ */
.legend-icon-btn:not(.heart):not(.setlist):not(.mic) {
    color: #e5e7eb; /* –°–≤–µ—Ç–ª—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
}

body[data-theme="light"] .legend-icon-btn:not(.heart):not(.setlist):not(.mic) {
    color: #1e293b !important;
}

/* –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –∏–∫–æ–Ω–æ–∫ –≤ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º–µ */
body[data-theme="light"] .legend-icon-btn.heart i,
body[data-theme="light"] .legend-icon-btn.setlist i,
body[data-theme="light"] .legend-icon-btn.mic i {
    color: #1e293b !important; /* –¢–µ–º–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã */
}

/* Legend –∫–∞–∫ —á–∞—Å—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã - —Ñ–æ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –≥—Ä–∞–Ω–∏—Ü—ã */
.song-legend-action::before {
    content: attr(data-legend);
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    background: var(--container-background-color); /* –§–æ–Ω –∫–∞–∫ —É –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
    color: var(--label-color);
    font-size: 0.45rem; /* –ï—â–µ –±–æ–ª—å—à–µ —É–º–µ–Ω—å—à–∏–ª–∏ —Å 0.55rem */
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.2px; /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 0.3px */
    padding: 1px 6px; /* –£–≤–µ–ª–∏—á–∏–ª–∏ –±–æ–∫–æ–≤—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è –ª—É—á—à–µ–≥–æ –∑–∞–∫—Ä—ã—Ç–∏—è –≥—Ä–∞–Ω–∏—Ü—ã */
    white-space: nowrap;
    z-index: 1;
    transition: color 0.2s ease;
    max-width: 50px;
    overflow: hidden;
    text-overflow: ellipsis;
}

.legend-icon-btn:hover {
    border-color: var(--primary-color);
    color: var(--primary-color);
    background: var(--hover-color);
    transform: translateY(-1px); /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å -2px */
    box-shadow: 0 2px 8px var(--shadow-color); /* –£–º–µ–Ω—å—à–∏–ª–∏ —Å 0 4px 12px */
}

.legend-icon-btn:hover + .song-legend-action::before,
.song-legend-action:hover::before {
    color: var(--primary-color);
}

.legend-icon-btn:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary-color) 20%, transparent);
}

.legend-icon-btn:active {
    transform: translateY(0);
    background: var(--primary-color);
    color: white;
}

.legend-icon-btn i {
    pointer-events: none;
    color: inherit !important; /* –ù–∞—Å–ª–µ–¥—É–µ–º —Ü–≤–µ—Ç –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –∫–Ω–æ–ø–∫–∏ */
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤ */
.legend-icon-btn.heart i,
.legend-icon-btn.setlist i,
.legend-icon-btn.mic i {
    color: #e5e7eb !important; /* –°–≤–µ—Ç–ª—ã–µ –∏–∫–æ–Ω–∫–∏ –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */
}



/* –¶–≤–µ—Ç–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ */
.legend-icon-btn.heart.active,
.legend-icon-btn.setlist.active,
.legend-icon-btn.mic.active {
    color: var(--primary-color) !important; /* –¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è */
    border-color: var(--primary-color);
    background: color-mix(in srgb, var(--primary-color) 10%, transparent);
}

/* –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∏–∫–æ–Ω–æ–∫ */
.legend-icon-btn.heart.active i,
.legend-icon-btn.setlist.active i,
.legend-icon-btn.mic.active i {
    color: var(--primary-color) !important; /* –¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–∫–æ–Ω–æ–∫ */
}

/* –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è legend */
.song-legend-action.heart.active::before,
.song-legend-action.setlist.active::before,
.song-legend-action.mic.active::before {
    color: var(--primary-color); /* –¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞ –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–µ–π */
}

@media (max-width: 768px) {
    .song-actions-legend-row {
        gap: 15px;
        margin: 10px 0 14px 0;
    }
    
    .legend-icon-btn {
        width: 55px;
        height: 36px;
        font-size: 1rem;
        margin-top: 7px;
    }
    
    .song-legend-action::before {
        font-size: 0.5rem;
        padding: 1px 3px;
        max-width: 45px;
    }
}

@media (max-width: 480px) {
    .song-actions-legend-row {
        gap: 12px;
        margin: 8px 0 12px 0;
    }
    
    .legend-icon-btn {
        width: 50px;
        height: 32px;
        font-size: 0.9rem;
        margin-top: 6px;
    }
    
    .song-legend-action::before {
        font-size: 0.45rem;
        padding: 1px 2px;
        max-width: 40px;
    }
}